Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

Задача 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

```
Ответ:

Полная виртуализация отличается от паравиртуализации, потому что при полной виртуализации немодифицированная ОС 
работает полностью изолированно. С другой стороны, при паравиртуализации виртуальная машина не изолирует ОС 
полностью, а модифицирует ее, чтобы сделать ее совместимой с определенными API.

Контейнеры (виртуализация на основе ОС) могут использовать все ресурсы хостовой машины (доступно всё железо), 
также используют общие динамические библиотеки, общие страницы памяти на хостовой машине, что может экономить ресурсы.
При этом контейнер и хостовая машина должны быть на одинаковом ядре (в базовом понимании).

При паравиртуализации гостевая ОС использует только собственные ресурсы выделенные гипервизором.
Это значит что при паравиртуализации имеется слой гипервизора (отвечающий за разделение ресурсов) в хостовой машине, осуществляющих
взаимодействия гостевой ос и железа.
В контейнерной реализации контейнер обращается без явного слоя гипервизора в ОС, разделение ресурсов осуществляется на уровне ОС. 
```

Задача 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:

Высоконагруженная база данных, чувствительная к отказу.
Различные web-приложения.
Windows системы для использования бухгалтерским отделом.
Системы, выполняющие высокопроизводительные расчеты на GPU.
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
```
Ответ:
1. Высоконагруженная база данных, чувствительная к отказу.

   Организация серверов: Физические сервера
   
   Требуется более высокая производительность, аппаратное размещение дает более высокий отклик, 
   сокращает точки отказа в виде гипервизора хостовой машины.
   Возможно использование полной аппаратной виртуализации при использовании 
   кластеризации для повышения доступности 
         
2. Различные web-приложения.

  Организация серверов: Виртуализация уровня ОС (контейнеры)
  
  Требуется меньше ресурсов, выше скорость масштабирования при необходимости расширения. 
  Отсутствуют жесткие требования к аппаратным ресурсам, требует меньше ресурсов на администрирование

3. Windows системы для использования бухгалтерским отделом.

 Организация серверов: Паравиртуализация
 
 Эффективнее делать бэкапирование - клонирование всей виртуальной машины, 
 возможность расширения ресурсов на уровне виртуальной машины. 
 Отсутствуют критичные требования к доступу к аппаратной составляющей сервера.
        
4. Системы, выполняющие высокопроизводительные расчеты на GPU.

 Организация серверов: Физические сервера
 
  Для аппаратных расчетов требуется максимальный доступ к аппаратным ресурсам, который физический сервер 
  дает более эффективно, а в двух других вариантах организации серверов доступ осуществляется через хостовую ОС 
```

Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, 
требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры 
на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

```
Ответ:

1. Вероятно выбрал бы MS Hyper-V т.к. он лучше совместим с инфраструктурой на Microsoft.
   Меньше затрат на обучение персонала, имея инфраструктуру на Microsoft кадры уже в наличии. 
   Имеет широкий функционал. 
   Скорее всего используется Active Directory, соответственно совместимость Hyper-V будет приоритетнее. 
   Также может быть использована VMWare, всё зависит от компетенций персонала и имеющейся инфраструктуры.
       
2. В данном случае приоритетнее KVM - гостевые ОС могут быть любыми, бесплатный и производительный.
   Также может подойти XEN, но он менее производительный.
    
3. Здесь можно использовать бесплатный Hyper-V, с Windows будет максимальная совместимость. Работоспособен в бесплатном варианте.
       
4. Для тестирования достаточно opensource KVM или XEN.
   Если развертывание требуется на непродолжительное время, можно рассмотреть облачные системы AWS или Openstack,
   т.к. они не требуют поддержания своей инфраструктуры, затраты обычно ниже в сравнении с развертыванием собственной инфраструктуры.


```

Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких 
систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем.
Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
```
Ответ:

Возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких 
систем управления виртуализацией одновременно):

 - содержание нескольких команд администрирования/сопровождения для разных систем, то есть проблема кадровых издержек
 - гораздо меньшая масштабируемость, то есть понадобится масштабировать две или более системы 
 - сложность при выделении и управлении ресурсами
 - финансовые затраты, так как необходимо содержать несколько систем одновременно, если считаем платные версии
 - проблемы миграции между разными системами, также полное дублирование всей инфраструктуры под две или более системы виртуализации
 - если production среда и тестовая среда находятся в разных системах, то сложнее отлавливать баги
      
Для минимизации этих рисков и проблем - на мой взгляд: 
- можно обучить команду сопровождения работе с обоими системами, для взаимозаменяемости
- распределить системы по совместимости, например, Hyper-V для всей Windows инфраструктуры и VMWare для остальных.
     
 Вероятно выбрал бы одну систему, так как в плане инфраструктуры и кадров содержать такую систему практичнее, 
 Если в используемых задачах есть определенные нюансы, то возможно технически могут потребоваться разные системы. 
 Но при развернутой инфраструктуре на Windows, при использовании других продуктов и серверов на Windows, 
 было бы логичнее использовать Hyper-V для такого решения, чтобы не увеличивать количество систем. 
 Так же Hyper-V имеет в том числе практически полноценное бесплатное решение.



```
